{
  "name": "nw-flash-trust",
  "author": {
    "name": "Jakub Szwacz",
    "email": "jakub@szwacz.com"
  },
  "description": "Flash Player trusted locations manager for node-webkit.",
  "version": "0.1.0",
  "main": "./main.js",
  "readme": "Cross-platform solution for [node-webkit](https://github.com/rogerwang/node-webkit) to make your Flash content trusted, so it can run smoothly.\n\n## Background\n\nNode-webkit uses \"file:\" protocol to render pages (what makes perfect sense because it runs locally). Unfortunately, for security reasons Flash doesn't like swfs embedded locally and applies very restrictive policy to them. Such swf lands in one of two possible [local sandboxes](http://help.adobe.com/en_US/ActionScript/3.0_ProgrammingAS3/WS5b3ccc516d4fbf351e63e3d118a9b90204-7e3f.html), and communication via ExternalInterface is blocked.\n\n### Solution\n\nFortunately there is officially supported way of making your local swf trusted, so previously mentioned restrictions don't apply. Full explanation can be found in [Adobe Flash Player Administration Guide](http://www.adobe.com/devnet/flashplayer/articles/flash_player_admin_guide.html).\n\nLong story short: you have to put config file in special directory provided by Flash Player and save to this file paths of swfs you want to be trusted. This library provides cross-platform API for doing just that.\n\n### Tested on\n\n- Windows XP\n- Windows 7\n- Mac OS 10.8\n- Linux Mint\n- Ubuntu\n- Fedora\n\n## Installation\n\n```\nnpm install git://github.com/szwacz/nw-flash-trust.git#master\n```\n\n## Usage & API\n\nFor the simplicity API is fully synchronous. It does a little of I/O, but so little I don't think it will freeze anything. If you have different opinion please share it.\n\n```javascript\nvar path = require('path');\nvar flashTrust = require('nw-flash-trust');\n\n// appName could be any globally unique string containing only\n// big and small letters, numbers and chars \"-._\".\n// It specifies name of file where trusted paths will be stored.\n// Best practice is to feed it with \"name\" value from your package.json file.\nvar appName = 'my-test-app';\n\ntry {\n    // initialization and parsing config file for given appName (if already exists)\n    var trustManager = flashTrust.initSync(appName);\n} catch(err) {\n    if (err.message === 'Flash Player config folder not found.') {\n        // Directory needed to do the work does not exist.\n        // Probbably Flash Player is not installed, there is nothing I can do.\n    }\n}\n\n// adds given filepath to trusted locations\ntrustManager.add('/path/to/file.swf');\n\n// whole folders are also allowed\ntrustManager.add('/path/to/folder');\n\n// removes given path from trusted locations\ntrustManager.remove('/path/to/file.swf');\n\n// returns true or false whether given path is trusted or not\nvar isTrusted = trustManager.isTrusted('/path/to/file.swf');\n\n// returns array containing all trusted paths\nvar list = trustManager.list();\n\n// removes all trusted locations from config file\ntrustManager.empty();\n```\n\n### Making files inside my application trusted\n\n```javascript\nvar path = require('path');\n\n// as for node-webkit 0.6.3 __dirname is not supported so little more work is needed\nvar appPath = path.dirname(process.execPath);\n\n// use path.join() for constructing system paths because it will\n// insert '\\' or '/' depending on platform\nvar playerPath = path.join(appPath, 'player.swf');\n\ntrustManager.add(playerPath);\n```\n\n### Pitfalls\n\nOn Windows 2 Flash plugins can coexist: ActiveX plugin for Internet Explorer and second one, for all other browsers (Chrome, Firefox, Opera, Safari). If only ActiveX plugin is installed there is flash-config-folder on this maschine, so nw-flash-trust will instantiate withou throwing any error. But node-webkit uses the second plugin so in this case there is no Flash for him. Dont rely for Flash detection on what nw-flash-trust tells you.\n\nTo be sure Flash is available in node-webkit use this function:\n```javascript\nfunction isFlashAvailable() {\n    return typeof navigator.plugins.namedItem('Shockwave Flash') === 'object';\n}\n```\n\n## License\n\nMIT",
  "readmeFilename": "README.md",
  "_id": "nw-flash-trust@0.1.0",
  "dist": {
    "shasum": "15f0a5dfae042738d88a074b6c79cce68ae48471"
  },
  "_resolved": "git://github.com/szwacz/nw-flash-trust.git#3e4a73e8555837d4222f199d956c78a89553976c",
  "_from": "git://github.com/szwacz/nw-flash-trust.git#master"
}
